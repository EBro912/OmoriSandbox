[gd_scene load_steps=11 format=3 uid="uid://dnxcj20hgcsj8"]

[ext_resource type="Texture2D" uid="uid://d36ge2cnq6lkj" path="res://assets/battlebacks/battleback_vf_default.png" id="1_o5qli"]
[ext_resource type="Texture2D" uid="uid://dy720f7vg7l3t" path="res://assets/atlases/battleATLAS.png" id="4_tipki"]
[ext_resource type="Texture2D" uid="uid://q4jxuj12jmru" path="res://assets/system/bsys_cursor.png" id="5_85g3d"]
[ext_resource type="PackedScene" uid="uid://d32syyvyr6iwr" path="res://scenes/party_member.tscn" id="5_tefeu"]
[ext_resource type="PackedScene" uid="uid://u0o0invoxvnj" path="res://scenes/enemy.tscn" id="8_choun"]
[ext_resource type="Texture2D" uid="uid://b75xtstrsgcbh" path="res://assets/system/bsys_battlelog.png" id="9_85g3d"]
[ext_resource type="AudioStream" uid="uid://btcashshvc4nv" path="res://audio/battle_vf.ogg" id="9_choun"]
[ext_resource type="Script" uid="uid://d18gd83t4is60" path="res://scripts/MenuManager.cs" id="9_ya4ey"]
[ext_resource type="FontFile" uid="uid://bdh481cgsv8wf" path="res://fonts/OMORI_GAME2.ttf" id="10_choun"]
[ext_resource type="Script" uid="uid://bcfwwj4klv2cq" path="res://scripts/GameManager.cs" id="14_a8y0u"]

[node name="Main" type="Node2D"]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="Battleback" type="TextureRect" parent="CanvasLayer/UI"]
z_index = -10
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_o5qli")

[node name="BattleLog" type="TextureRect" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -178.0
offset_right = 178.0
offset_bottom = 88.0
grow_horizontal = 2
texture = ExtResource("9_85g3d")
metadata/_edit_use_anchors_ = true

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/UI/BattleLog"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 15
theme_override_constants/margin_top = 0
theme_override_constants/margin_right = 15
theme_override_constants/margin_bottom = 10

[node name="Line1" type="Label" parent="CanvasLayer/UI/BattleLog/MarginContainer"]
layout_mode = 2
size_flags_vertical = 0
theme_override_fonts/font = ExtResource("10_choun")
theme_override_font_sizes/font_size = 24

[node name="Line2" type="Label" parent="CanvasLayer/UI/BattleLog/MarginContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("10_choun")
theme_override_font_sizes/font_size = 25

[node name="Line3" type="Label" parent="CanvasLayer/UI/BattleLog/MarginContainer"]
layout_mode = 2
size_flags_vertical = 8
theme_override_fonts/font = ExtResource("10_choun")
theme_override_font_sizes/font_size = 25

[node name="PartyCommands" type="Sprite2D" parent="CanvasLayer/UI"]
z_index = -1
position = Vector2(320, 429)
texture = ExtResource("4_tipki")
region_enabled = true
region_rect = Rect2(653, 376, 362, 82)

[node name="BattleCommands" type="Sprite2D" parent="CanvasLayer/UI"]
visible = false
position = Vector2(320, 429)
texture = ExtResource("4_tipki")
region_enabled = true
region_rect = Rect2(653, 130, 362, 82)

[node name="Cursor" type="Sprite2D" parent="CanvasLayer/UI"]
position = Vector2(165, 410)
texture = ExtResource("5_85g3d")

[node name="GameManager" type="Node" parent="." node_paths=PackedStringArray("UIParent", "BattleLog")]
script = ExtResource("14_a8y0u")
BattlecardUI = ExtResource("5_tefeu")
EnemyUI = ExtResource("8_choun")
UIParent = NodePath("../CanvasLayer/UI")
BattleLog = [NodePath("../CanvasLayer/UI/BattleLog/MarginContainer/Line1"), NodePath("../CanvasLayer/UI/BattleLog/MarginContainer/Line2"), NodePath("../CanvasLayer/UI/BattleLog/MarginContainer/Line3")]

[node name="MenuManager" type="Node" parent="." node_paths=PackedStringArray("PartyCommandsMenu", "BattleCommandsMenu", "Cursor")]
script = ExtResource("9_ya4ey")
PartyCommandsMenu = NodePath("../CanvasLayer/UI/PartyCommands")
BattleCommandsMenu = NodePath("../CanvasLayer/UI/BattleCommands")
Cursor = NodePath("../CanvasLayer/UI/Cursor")

[node name="BGM" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_choun")
volume_db = -5.0
autoplay = true
parameters/looping = true
